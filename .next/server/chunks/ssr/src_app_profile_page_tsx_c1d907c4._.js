module.exports=[70298,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944);a.i(29615);var f=a.i(59033);a.i(6650);var g=a.i(24668);a.i(72461);var h=a.i(31431),i=a.i(19032),j=a.i(71682),k=a.i(46271),l=a.i(27608),m=a.i(68953);let n=()=>{let{wishlist:a,removeFromWishlist:d}=(0,c.useContext)(m.default),{addToCart:e}=(0,c.useContext)(l.default);return 0===a.length?(0,b.jsx)("div",{className:"py-20 text-center",children:(0,b.jsx)("p",{className:"font-sans text-sm text-clinical-ink/40 uppercase tracking-[0.2em]",children:"Archival records are empty."})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(a=>(0,b.jsxs)("div",{className:"group bg-white/40 border border-clinical-ink/5 p-6 rounded-3xl hover:border-accent-bronze/30 transition-all",children:[(0,b.jsx)("div",{className:"aspect-[4/5] bg-clinical-bone rounded-2xl overflow-hidden mb-6 relative",children:(0,b.jsx)("img",{src:a.image,alt:a.name,className:"w-full h-full object-contain mix-blend-multiply group-hover:scale-105 transition-transform duration-700"})}),(0,b.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,b.jsx)("h3",{className:"font-display font-bold text-lg text-clinical-ink",children:a.name}),(0,b.jsxs)("p",{className:"font-mono text-sm text-clinical-ink/60",children:["₹ ",a.price]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("button",{onClick:()=>{e(a,1,"M")},className:"flex-1 py-3 bg-clinical-ink text-white rounded-full font-sans text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-accent-bronze transition-colors",children:[(0,b.jsx)(j.FaShoppingCart,{size:12})," Add to Cart"]}),(0,b.jsx)("button",{onClick:()=>d(a._id),className:"w-12 h-12 border border-clinical-ink/10 rounded-full flex items-center justify-center text-clinical-ink/40 hover:text-signal-error hover:border-signal-error/30 transition-all",children:(0,b.jsx)(j.FaTrash,{size:12})})]})]},a._id))})};var o=a.i(16302),p=a.i(17867);a.s(["default",0,()=>{let{user:a,updateProfile:l,logout:m}=(0,c.useContext)(f.AuthContext),{shippingAddress:q,saveShippingAddress:r}=(0,c.useContext)(g.CartContext),{wishlist:s}=(0,c.useContext)(h.WishlistContext),t=(0,e.useRouter)(),[u,v]=(0,c.useState)("identity"),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)(!0),[S,T]=(0,c.useState)([]),[U,V]=(0,c.useState)(!0),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)(""),[aa,ab]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{await Promise.resolve(),a&&(x(a.name||""),z(a.email||""),B(a.phone||"")),q&&(X(q.address||""),Z(q.city||""),_(q.postalCode||""),ab(q.country||""))})()},[a,q]);let ac=(0,c.useCallback)(async()=>{try{let{data:a}=await i.default.get("/api/orders/myorders");P(a),R(!1)}catch(a){console.error((0,p.getErrorMessage)(a)),R(!1)}},[]),ad=(0,c.useCallback)(async()=>{try{let{data:a}=await i.default.get("/api/users/reviews");T(a),V(!1)}catch(a){console.error((0,p.getErrorMessage)(a)),V(!1)}},[]);(0,c.useEffect)(()=>{a?(async()=>{"acquisitions"===u?await ac():"reviews"===u&&await ad()})():t.push("/login")},[t,a,u,ac,ad]);let ae=async b=>{if(b.preventDefault(),H(null),C!==E)H("Passwords do not match");else try{let{data:b}=await i.default.put("/api/users/profile",{id:a?._id,name:w,email:y,password:C,phone:A});L("Identity Updated"),N("Your personnel dossier has been successfully modified."),J(!0),l(b)}catch(a){H((0,p.getErrorMessage)(a))}};return((0,c.useEffect)(()=>{a||t.push("/login?redirect=/profile")},[a,t]),a)?(0,b.jsxs)("div",{className:"bg-clinical-canvas min-h-screen pt-20 md:pt-32 pb-40",children:[(0,b.jsxs)("div",{className:"container mx-auto px-container-sm md:px-container-md lg:px-container-lg",children:[(0,b.jsxs)("nav",{className:"flex items-center gap-2 text-[10px] uppercase tracking-widest text-clinical-ink/40 mb-12 font-sans",children:[(0,b.jsx)(d.default,{href:"/",className:"hover:text-clinical-ink transition-colors",children:"Home"}),(0,b.jsx)("span",{children:"/"}),(0,b.jsx)("span",{className:"text-clinical-ink",children:"Personnel File"})]}),(0,b.jsxs)("div",{className:"border-t border-black pt-6 mb-24",children:[(0,b.jsx)("span",{className:"font-sans text-[10px] uppercase tracking-[0.2em] text-clinical-ink/40 mb-4 block",children:"Personnel Record"}),(0,b.jsx)("h1",{className:"font-display font-black text-5xl md:text-7xl lg:text-heading-main text-clinical-ink uppercase leading-[0.9]",children:"Personal Dossier"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-16 md:gap-24 relative",children:[(0,b.jsxs)("div",{className:"md:col-span-1 space-y-12 md:sticky md:top-32 h-fit",children:[(0,b.jsxs)("ul",{className:"flex flex-col gap-6 font-sans text-xs uppercase tracking-widest text-clinical-ink/60",children:[(0,b.jsx)("li",{children:(0,b.jsxs)("button",{onClick:()=>v("identity"),className:`flex items-center gap-4 transition-all duration-300 w-full text-left group ${"identity"===u?"text-clinical-ink font-bold pl-4 border-l-2 border-accent-bronze":"hover:text-clinical-ink pl-4 border-l-2 border-transparent"}`,children:[(0,b.jsx)(j.FaUser,{className:"identity"===u?"text-accent-bronze":"opacity-0 group-hover:opacity-50 transition-opacity",size:10}),"Identity"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("button",{onClick:()=>v("acquisitions"),className:`flex items-center gap-4 transition-all duration-300 w-full text-left group ${"acquisitions"===u?"text-clinical-ink font-bold pl-4 border-l-2 border-accent-bronze":"hover:text-clinical-ink pl-4 border-l-2 border-transparent"}`,children:[(0,b.jsx)(j.FaBox,{className:"acquisitions"===u?"text-accent-bronze":"opacity-0 group-hover:opacity-50 transition-opacity",size:10}),"Acquisitions"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("button",{onClick:()=>v("coordinates"),className:`flex items-center gap-4 transition-all duration-300 w-full text-left group ${"coordinates"===u?"text-clinical-ink font-bold pl-4 border-l-2 border-accent-bronze":"hover:text-clinical-ink pl-4 border-l-2 border-transparent"}`,children:[(0,b.jsx)(j.FaMapMarkerAlt,{className:"coordinates"===u?"text-accent-bronze":"opacity-0 group-hover:opacity-50 transition-opacity",size:10}),"Coordinates"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("button",{onClick:()=>v("wishlist"),className:`flex items-center gap-4 transition-all duration-300 w-full text-left group ${"wishlist"===u?"text-clinical-ink font-bold pl-4 border-l-2 border-accent-bronze":"hover:text-clinical-ink pl-4 border-l-2 border-transparent"}`,children:[(0,b.jsx)(j.FaBookmark,{className:"wishlist"===u?"text-accent-bronze":"opacity-0 group-hover:opacity-50 transition-opacity",size:10}),"Tactical Reserve"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("button",{onClick:()=>v("reviews"),className:`flex items-center gap-4 transition-all duration-300 w-full text-left group ${"reviews"===u?"text-clinical-ink font-bold pl-4 border-l-2 border-accent-bronze":"hover:text-clinical-ink pl-4 border-l-2 border-transparent"}`,children:[(0,b.jsx)(j.FaClipboardList,{className:"reviews"===u?"text-accent-bronze":"opacity-0 group-hover:opacity-50 transition-opacity",size:10}),"Field Reports"]})})]}),(0,b.jsx)("div",{className:"pt-12 border-t border-clinical-ink/10",children:(0,b.jsxs)("button",{onClick:()=>{m(),t.push("/login")},className:"flex items-center gap-4 text-xs font-sans uppercase tracking-widest text-red-800/60 hover:text-red-800 transition-colors pl-4",children:[(0,b.jsx)(j.FaSignOutAlt,{})," Terminate Session"]})})]}),(0,b.jsxs)("div",{className:"md:col-span-3 min-h-[500px]",children:["identity"===u&&(0,b.jsxs)(k.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,b.jsxs)("div",{className:"mb-12",children:[(0,b.jsx)("h2",{className:"font-display font-black text-4xl md:text-5xl text-clinical-ink mb-2 uppercase tracking-tight",children:"Identity Details"}),(0,b.jsx)("p",{className:"font-sans text-[10px] text-clinical-ink/40 uppercase tracking-widest",children:"Manage Credentials & Access"})]}),G&&(0,b.jsxs)("div",{className:"mb-8 p-3 bg-red-50 border border-red-100 flex items-center gap-3 text-red-800 text-xs font-sans",children:[(0,b.jsx)(j.FaExclamationCircle,{})," ",G]}),(0,b.jsxs)("form",{onSubmit:ae,className:"space-y-8 max-w-lg",children:[(0,b.jsxs)("div",{className:"aesop-input-group",children:[(0,b.jsx)("input",{type:"text",value:w,onChange:a=>x(a.target.value),className:"aesop-input peer placeholder-transparent",placeholder:"Full Name",id:"name"}),(0,b.jsx)("label",{htmlFor:"name",children:"Full Name"})]}),(0,b.jsxs)("div",{className:"aesop-input-group",children:[(0,b.jsx)("input",{type:"email",value:y,onChange:a=>z(a.target.value),className:"aesop-input peer placeholder-transparent",placeholder:"Security ID (Email)",id:"email"}),(0,b.jsx)("label",{htmlFor:"email",children:"Security ID (Email)"})]}),(0,b.jsxs)("div",{className:"aesop-input-group",children:[(0,b.jsx)("input",{type:"text",value:A,onChange:a=>B(a.target.value),className:"aesop-input peer placeholder-transparent",placeholder:"Comms (Phone)",id:"phone"}),(0,b.jsx)("label",{htmlFor:"phone",children:"Comms (Phone)"})]}),(0,b.jsxs)("div",{className:"pt-8 space-y-6",children:[(0,b.jsxs)("div",{className:"aesop-input-group",children:[(0,b.jsx)("input",{type:"password",value:C,onChange:a=>D(a.target.value),className:"aesop-input peer placeholder-transparent",placeholder:"New Passcode",id:"password"}),(0,b.jsx)("label",{htmlFor:"password",children:"New Passcode"})]}),(0,b.jsxs)("div",{className:"aesop-input-group",children:[(0,b.jsx)("input",{type:"password",value:E,onChange:a=>F(a.target.value),className:"aesop-input peer placeholder-transparent",placeholder:"Confirm Passcode",id:"confirmPassword"}),(0,b.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Passcode"})]})]}),(0,b.jsx)("button",{type:"submit",className:"w-full py-5 bg-accent-bronze text-white font-sans text-xs uppercase tracking-[0.2em] font-bold hover:bg-clinical-ink transition-all duration-500 rounded-full",children:"Update Identity"})]})]}),"acquisitions"===u&&(0,b.jsxs)(k.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,b.jsxs)("div",{className:"mb-12",children:[(0,b.jsx)("h2",{className:"font-display font-black text-4xl md:text-5xl text-clinical-ink mb-2 uppercase tracking-tight",children:"Acquisitions"}),(0,b.jsx)("p",{className:"font-sans text-[10px] text-clinical-ink/40 uppercase tracking-widest",children:"Transaction History & Status"})]}),Q?(0,b.jsx)("div",{className:"font-mono text-xs text-clinical-ink/40 animate-pulse",children:"Retrieving Archives..."}):0===O.length?(0,b.jsxs)("div",{className:"p-12 border border-clinical-ink/10 rounded-3xl text-center",children:[(0,b.jsx)("p",{className:"font-sans text-lg text-clinical-ink/60 italic mb-6",children:"No acquisitions found in your dossier."}),(0,b.jsx)(d.default,{href:"/shop",className:"inline-block px-8 py-4 bg-accent-bronze text-white font-mono text-xs uppercase tracking-widest rounded-full hover:bg-clinical-ink transition-colors",children:"Explore Collection"})]}):(0,b.jsx)("div",{className:"space-y-4",children:O.map(a=>(0,b.jsx)("div",{className:"bg-white/40 border border-clinical-ink/5 p-6 rounded-2xl hover:border-accent-bronze/30 transition-all group",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"font-mono text-[10px] text-clinical-ink/40 uppercase block mb-1",children:["ID: ",a._id.substring(20,24),"..."]}),(0,b.jsxs)("h3",{className:"font-display font-bold text-xl text-clinical-ink",children:["₹ ",a.totalPrice]}),(0,b.jsx)("p",{className:"font-sans text-xs text-clinical-ink/60 mt-1",children:a.createdAt.substring(0,10)})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:`px-4 py-2 rounded-full border text-[10px] font-mono uppercase tracking-widest ${a.isPaid?"border-signal-success/20 bg-signal-success/5 text-signal-success":"border-signal-error/20 bg-signal-error/5 text-signal-error"}`,children:a.isPaid?"Settled":"Pending"}),(0,b.jsx)("div",{className:`px-4 py-2 rounded-full border text-[10px] font-mono uppercase tracking-widest ${a.isCancelled?"border-red-500/20 bg-red-500/5 text-red-500":a.isDelivered?"border-signal-success/20 bg-signal-success/5 text-signal-success":"border-accent-bronze/20 bg-accent-bronze/5 text-accent-bronze"}`,children:a.isCancelled?"Cancelled":a.isDelivered?"Delivered":"In Transit"})]}),(0,b.jsx)(d.default,{href:`/order/${a._id}`,className:"px-6 py-3 bg-white border border-clinical-ink/10 text-[10px] uppercase tracking-widest hover:bg-clinical-ink hover:text-white transition-all rounded-xl",children:"Inspect"})]})},a._id))})]}),"coordinates"===u&&(0,b.jsxs)(k.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,b.jsxs)("div",{className:"mb-12",children:[(0,b.jsx)("h2",{className:"font-display font-black text-4xl md:text-5xl text-clinical-ink mb-2 uppercase tracking-tight",children:"Coordinates"}),(0,b.jsx)("p",{className:"font-sans text-[10px] text-clinical-ink/40 uppercase tracking-widest",children:"Manage Shipping Locations"})]}),(0,b.jsxs)("div",{className:"mb-12 space-y-4",children:[(0,b.jsx)("h3",{className:"font-display font-medium text-xl text-clinical-ink mb-6",children:"Saved Locations"}),a&&a.addresses&&a.addresses.length>0?a.addresses.map((c,d)=>(0,b.jsxs)("div",{className:"bg-white/40 border border-clinical-ink/5 p-6 rounded-2xl flex justify-between items-center hover:border-accent-bronze/30 transition-all group",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-display font-bold text-clinical-ink",children:c.address}),(0,b.jsxs)("p",{className:"font-sans text-xs text-clinical-ink/60",children:[c.city,", ",c.postalCode]}),(0,b.jsx)("p",{className:"font-sans text-[10px] text-clinical-ink/40 uppercase tracking-widest mt-1",children:c.country})]}),(0,b.jsx)("button",{onClick:async()=>{let b=(a?.addresses||[]).filter((a,b)=>b!==d);try{let{data:a}=await i.default.put("/api/users/profile/address",{addresses:b});l(a),L("Coordinates Updated"),N("Location Removed."),J(!0)}catch(a){H("Failed to remove location: "+(0,p.getErrorMessage)(a))}},className:"w-8 h-8 flex items-center justify-center rounded-full border border-clinical-ink/10 text-clinical-ink/40 hover:text-red-600 hover:border-red-600/30 transition-colors",children:"×"})]},d)):(0,b.jsx)("p",{className:"font-sans text-sm text-clinical-ink/40 italic",children:"No saved coordinates."})]}),(0,b.jsxs)("div",{className:"border-t border-clinical-ink/10 pt-12",children:[(0,b.jsx)("h3",{className:"font-display font-medium text-xl text-clinical-ink mb-8",children:"Add New Coordinates"}),(0,b.jsxs)("form",{onSubmit:async b=>{b.preventDefault();let c={address:W,city:Y,postalCode:$,country:aa,isDefault:0===(a?.addresses||[]).length},d=[...a?.addresses||[],c];try{let{data:b}=await i.default.put("/api/users/profile/address",{addresses:d});l(b),L("Coordinates Synced"),N("New shipping location securely recorded."),J(!0),0===(a?.addresses||[]).length&&r(c),X(""),Z(""),_(""),ab("")}catch(a){H("Sync Failed: "+(0,p.getErrorMessage)(a))}},className:"space-y-8 max-w-lg",children:[(0,b.jsxs)("div",{className:"aesop-input-group",children:[(0,b.jsx)("input",{type:"text",value:W,onChange:a=>X(a.target.value),className:"aesop-input peer placeholder-transparent",placeholder:"Street Address",required:!0,id:"address"}),(0,b.jsx)("label",{htmlFor:"address",children:"Street Address"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"aesop-input-group",children:[(0,b.jsx)("input",{type:"text",value:Y,onChange:a=>Z(a.target.value),className:"aesop-input peer placeholder-transparent",placeholder:"City",required:!0,id:"city"}),(0,b.jsx)("label",{htmlFor:"city",children:"City"})]}),(0,b.jsxs)("div",{className:"aesop-input-group",children:[(0,b.jsx)("input",{type:"text",value:$,onChange:a=>_(a.target.value),className:"aesop-input peer placeholder-transparent",placeholder:"Postal Code",required:!0,id:"postalCode"}),(0,b.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"})]})]}),(0,b.jsxs)("div",{className:"aesop-input-group",children:[(0,b.jsx)("input",{type:"text",value:aa,onChange:a=>ab(a.target.value),className:"aesop-input peer placeholder-transparent",placeholder:"Country",required:!0,id:"country"}),(0,b.jsx)("label",{htmlFor:"country",children:"Country"})]}),(0,b.jsx)("button",{type:"submit",className:"w-full py-5 bg-clinical-ink text-white font-sans text-xs uppercase tracking-[0.2em] font-bold hover:bg-zinc-800 transition-all duration-500 rounded-full",children:"Add To Dossier"})]})]})]}),"wishlist"===u&&(0,b.jsxs)(k.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,b.jsxs)("div",{className:"mb-12",children:[(0,b.jsx)("h2",{className:"font-display font-black text-4xl md:text-5xl text-clinical-ink mb-2 uppercase tracking-tight",children:"Tactical Reserve"}),(0,b.jsx)("p",{className:"font-sans text-[10px] text-clinical-ink/40 uppercase tracking-widest",children:"Secured Assets"})]}),(0,b.jsx)(n,{})]}),"reviews"===u&&(0,b.jsxs)(k.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,b.jsxs)("div",{className:"mb-12",children:[(0,b.jsx)("h2",{className:"font-display font-black text-4xl md:text-5xl text-clinical-ink mb-2 uppercase tracking-tight",children:"Field Reports"}),(0,b.jsx)("p",{className:"font-sans text-[10px] text-clinical-ink/40 uppercase tracking-widest",children:"Submitted Intelligence"})]}),U?(0,b.jsx)("div",{className:"font-mono text-xs text-clinical-ink/40 animate-pulse",children:"Retrieving Intelligence..."}):0===S.length?(0,b.jsxs)("div",{className:"p-12 border border-clinical-ink/10 rounded-3xl text-center",children:[(0,b.jsx)("p",{className:"font-sans text-lg text-clinical-ink/60 italic mb-6",children:"No field reports submitted yet."}),(0,b.jsx)(d.default,{href:"/shop",className:"inline-block bg-clinical-ink text-white font-mono text-xs uppercase tracking-widest rounded-full hover:bg-opacity-90 transition-colors",children:"Submit Intelligence"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:S.map(a=>(0,b.jsxs)("div",{className:"bg-white border border-clinical-ink/10 p-6 rounded-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-clinical-ink/5",children:(0,b.jsx)("img",{src:a.productImage,alt:a.productName,className:"w-full h-full object-cover mix-blend-multiply"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(d.default,{href:`/product/${a.productId}`,className:"font-display font-bold text-lg text-clinical-ink hover:text-accent-bronze transition-colors block leading-none mb-1",children:a.productName}),(0,b.jsx)("div",{className:"flex text-accent-bronze text-[10px]",children:[void 0,void 0,void 0,void 0,void 0].map((c,d)=>(0,b.jsx)("span",{className:d<a.rating?"opacity-100":"opacity-20",children:"★"},d))})]})]}),(0,b.jsxs)("p",{className:"font-sans text-sm text-clinical-ink/70 italic leading-relaxed",children:['"',a.comment,'"']}),(0,b.jsx)("span",{className:"block mt-4 text-[10px] font-mono text-clinical-ink/30 uppercase tracking-widest",children:a.createdAt.substring(0,10)})]},a._id))})]})]})]})]}),(0,b.jsx)(o.default,{isOpen:I,onClose:()=>J(!1),title:K,message:M,type:"success",actionLabel:"Proceed",onAction:()=>J(!1)})]}):null}],70298)}];

//# sourceMappingURL=src_app_profile_page_tsx_c1d907c4._.js.map