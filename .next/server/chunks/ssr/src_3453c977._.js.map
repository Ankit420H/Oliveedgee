{"version":3,"sources":["../../../../src/components/ui/AlertModal.tsx","../../../../src/lib/razorpay.ts","../../../../src/app/shipping/page.tsx","../../../../src/features/checkout/components/CheckoutSteps.tsx"],"sourcesContent":["'use client';\nimport { motion, AnimatePresence } from 'framer-motion';\n\ninterface AlertModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onAction?: () => void;\n    title: string;\n    message: string;\n    type?: 'info' | 'success' | 'error' | 'warning';\n    actionLabel?: string;\n    cancelLabel?: string;\n}\n\nconst AlertModal = ({\n    isOpen,\n    onClose,\n    onAction,\n    title,\n    message,\n    type = 'info',\n    actionLabel = 'Acknowledge',\n    cancelLabel = 'Cancel'\n}: AlertModalProps) => {\n    // Determine colors based on type\n    const getTheme = () => {\n        switch (type) {\n            case 'success':\n                return { border: 'border-accent-moss/30', bg: 'bg-accent-moss/10', text: 'text-accent-moss', btn: 'bg-accent-moss text-white hover:bg-clinical-ink' };\n            case 'error':\n                return { border: 'border-signal-error/30', bg: 'bg-signal-error/10', text: 'text-signal-error', btn: 'bg-signal-error text-white hover:bg-red-900' };\n            case 'warning':\n                return { border: 'border-accent-bronze/30', bg: 'bg-accent-bronze/10', text: 'text-accent-bronze', btn: 'bg-accent-bronze text-white hover:bg-clinical-ink' };\n            default: // info\n                return { border: 'border-clinical-ink/10', bg: 'bg-clinical-ink/5', text: 'text-clinical-ink', btn: 'bg-clinical-ink text-white hover:bg-black' };\n        }\n    };\n\n    const theme = getTheme();\n\n    return (\n        <AnimatePresence>\n            {isOpen && (\n                <>\n                    {/* Backdrop */}\n                    <motion.div\n                        initial={{ opacity: 0 }}\n                        animate={{ opacity: 1 }}\n                        exit={{ opacity: 0 }}\n                        onClick={onClose}\n                        className=\"fixed inset-0 bg-clinical-ink/40 backdrop-blur-md z-[60] transition-colors\"\n                    />\n\n                    {/* Modal */}\n                    <div className=\"fixed inset-0 flex items-center justify-center p-4 z-[60] pointer-events-none\">\n                        <motion.div\n                            initial={{ scale: 0.95, opacity: 0, y: 10 }}\n                            animate={{ scale: 1, opacity: 1, y: 0 }}\n                            exit={{ scale: 0.95, opacity: 0, y: 10 }}\n                            className=\"bg-clinical-canvas border border-clinical-ink/10 shadow-2xl rounded-3xl p-8 md:p-12 w-full max-w-md pointer-events-auto relative overflow-hidden\"\n                        >\n                            {/* Decorative Elements */}\n                            <div className=\"absolute top-0 right-0 p-6 opacity-5 pointer-events-none\">\n                                <svg width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <circle cx=\"32\" cy=\"32\" r=\"31\" stroke=\"currentColor\" strokeWidth=\"1\" />\n                                </svg>\n                            </div>\n\n                            <div className={`inline-flex items-center gap-2 mb-6 px-3 py-1 rounded-full border ${theme.border} ${theme.bg}`}>\n                                <span className={`font-mono text-[10px] uppercase tracking-widest ${theme.text}`}>\n                                    {type}\n                                </span>\n                            </div>\n\n                            <h3 className=\"font-display font-black text-2xl md:text-3xl text-clinical-ink mb-4 uppercase leading-[0.9]\">\n                                {title}\n                            </h3>\n                            <p className=\"font-sans text-sm text-clinical-ink/60 mb-10 leading-relaxed\">\n                                {message}\n                            </p>\n\n                            <div className=\"flex gap-4\">\n                                {onAction && (\n                                    <button\n                                        onClick={onClose}\n                                        className=\"flex-1 py-4 bg-transparent border border-clinical-ink/20 text-clinical-ink hover:bg-clinical-ink/5 font-sans text-[10px] uppercase tracking-[0.2em] font-bold transition-all duration-300 rounded-full\"\n                                    >\n                                        {cancelLabel}\n                                    </button>\n                                )}\n                                <button\n                                    onClick={onAction || onClose}\n                                    className={`flex-1 py-4 ${theme.btn} font-sans text-[10px] uppercase tracking-[0.2em] font-bold transition-all duration-300 rounded-full shadow-lg`}\n                                >\n                                    {actionLabel}\n                                </button>\n                            </div>\n                        </motion.div>\n                    </div>\n                </>\n            )}\n        </AnimatePresence>\n    );\n};\n\nexport default AlertModal;\n","export const loadRazorpayScript = () => {\n    return new Promise((resolve) => {\n        const script = document.createElement('script');\n        script.src = 'https://checkout.razorpay.com/v1/checkout.js';\n        script.onload = () => {\n            resolve(true);\n        };\n        script.onerror = () => {\n            resolve(false);\n        };\n        document.body.appendChild(script);\n    });\n};\n","'use client';\n\nimport { useState, useContext, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { CartContext, CartContextType, CartItem, ShippingAddress } from '../../features/cart';\nimport { AuthContext, AuthContextType } from '../../features/auth';\nimport CheckoutSteps from '../../features/checkout/components/CheckoutSteps';\nimport api from '../../lib/api';\nimport { toast } from 'react-toastify';\nimport { loadRazorpayScript } from '../../lib/razorpay';\nimport { motion } from 'framer-motion';\nimport AlertModal from '../../components/ui/AlertModal';\nimport { getErrorMessage } from '../../lib/error-utils';\n\nimport { RazorpayResponse, RazorpayOptions } from '../../types/razorpay';\n\n\n\nconst ShippingPage = () => {\n    const { shippingAddress, saveShippingAddress, cartItems, clearCart } = useContext(CartContext) as CartContextType;\n    const { user } = useContext(AuthContext) as AuthContextType;\n    const router = useRouter();\n\n    const [address, setAddress] = useState(shippingAddress.address || '');\n    const [city, setCity] = useState(shippingAddress.city || '');\n    const [postalCode, setPostalCode] = useState(shippingAddress.postalCode || '');\n    const [country, setCountry] = useState(shippingAddress.country || '');\n    const [isSuccessModalOpen, setIsSuccessModalOpen] = useState(false);\n    const [successOrderId, setSuccessOrderId] = useState<string | null>(null);\n\n    const [isProcessing, setIsProcessing] = useState(false);\n\n    // Calculate Prices\n    const addDecimals = (num: number) => {\n        return (Math.round(num * 100) / 100).toFixed(2);\n    };\n\n    const itemsPrice = addDecimals(cartItems.reduce((acc: number, item: CartItem) => acc + item.price * item.qty, 0));\n    const shippingPrice = addDecimals(Number(itemsPrice) > 2000 ? 0 : 100);\n    const taxPrice = addDecimals(Number((0.15 * Number(itemsPrice)).toFixed(2)));\n    const totalPrice = (Number(itemsPrice) + Number(shippingPrice) + Number(taxPrice)).toFixed(2);\n\n    useEffect(() => {\n        if (cartItems.length === 0) {\n            router.push('/cart');\n        }\n    }, [cartItems, router]);\n\n    const handlePayment = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (!address || !city || !postalCode || !country) {\n            toast.error(\"Please fill in all shipping fields.\");\n            return;\n        }\n\n        setIsProcessing(true);\n\n        // 1. Save Address\n        saveShippingAddress({ address, city, postalCode, country });\n\n        try {\n            // 2. Load Razorpay SDK\n            const res = await loadRazorpayScript();\n            if (!res) {\n                toast.error('Razorpay SDK failed to load. Are you online?');\n                setIsProcessing(false);\n                return;\n            }\n\n            // 3. Create Order on Backend\n            const orderPayload = {\n                orderItems: cartItems,\n                shippingAddress: { address, city, postalCode, country },\n                paymentMethod: 'Razorpay',\n                itemsPrice,\n                shippingPrice,\n                taxPrice,\n                totalPrice,\n            };\n\n            const { data: createdOrder } = await api.post('/api/orders', orderPayload);\n\n            // 4. Create Razorpay Order\n            const { data: razorpayOrder } = await api.post('/api/payment/create-order', {\n                amount: totalPrice,\n                receipt: createdOrder._id,\n            });\n\n            // 5. Open Razorpay Modal\n            const razorpayKey = process.env.NEXT_PUBLIC_RAZORPAY_KEY_ID;\n            if (!razorpayKey) {\n                toast.error('Payment Configuration Error: Razorpay Key ID is missing.');\n                setIsProcessing(false);\n                return;\n            }\n\n            const options: RazorpayOptions = {\n                key: razorpayKey,\n                amount: razorpayOrder.amount,\n                currency: razorpayOrder.currency,\n                name: \"Olive Edge\",\n                description: `Order #${createdOrder._id}`,\n                order_id: razorpayOrder.id,\n                handler: async function (response: RazorpayResponse) {\n                    try {\n                        const verifyRes = await api.post('/api/payment/verify', {\n                            razorpay_order_id: response.razorpay_order_id,\n                            razorpay_payment_id: response.razorpay_payment_id,\n                            razorpay_signature: response.razorpay_signature,\n                            orderId: createdOrder._id,\n                        });\n\n                        if (verifyRes.data.status === 'success') {\n                            clearCart();\n                            setSuccessOrderId(createdOrder._id);\n                            setIsSuccessModalOpen(true);\n                        }\n                    } catch (err: unknown) {\n                        toast.error('Payment Verification Failed: ' + getErrorMessage(err));\n                        console.error(err);\n                        router.push(`/order/${createdOrder._id}`);\n                    }\n                },\n                prefill: {\n                    name: user?.name,\n                    email: user?.email,\n                    contact: user?.phone || '',\n                },\n                theme: {\n                    color: \"#606C38\",\n                },\n            };\n\n            const paymentObject = new window.Razorpay(options);\n            paymentObject.open();\n            setIsProcessing(false);\n\n        } catch (err: unknown) {\n            toast.error(getErrorMessage(err));\n            setIsProcessing(false);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-clinical-canvas pt-20 md:pt-32 pb-40\">\n            <div className=\"container mx-auto px-container-sm md:px-container-md lg:px-container-lg\">\n                <CheckoutSteps step1 step2 />\n\n                <div className=\"text-center mb-16\">\n                    <span className=\"font-sans text-[10px] uppercase tracking-[0.2em] text-clinical-ink/40 mb-4 block\">\n                        Final Step\n                    </span>\n                    <h1 className=\"font-display font-black text-5xl md:text-7xl lg:text-heading-main text-clinical-ink mb-8 leading-[0.9] uppercase\">\n                        Checkout\n                    </h1>\n                </div>\n\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-24\">\n                    {/* Left Column: Input Form */}\n                    <div className=\"space-y-12\">\n                        <div className=\"border-b border-black pb-4 mb-8\">\n                            <h2 className=\"font-sans text-[10px] font-bold uppercase tracking-[0.2em] text-clinical-ink/60\">\n                                Shipping Details\n                            </h2>\n                        </div>\n\n                        <form id=\"checkout-form\" onSubmit={handlePayment} className=\"space-y-8\">\n                            {user && user.addresses && user.addresses.length > 0 && (\n                                <div className=\"mb-8\">\n                                    <label className=\"block font-sans text-[10px] uppercase tracking-widest text-clinical-ink/60 mb-2\">\n                                        Select Saved Location\n                                    </label>\n                                    <select\n                                        onChange={(e) => {\n                                            const selectedIndex = parseInt(e.target.value);\n                                            if (!isNaN(selectedIndex) && user.addresses) {\n                                                const addr = user.addresses[selectedIndex];\n                                                setAddress(addr.address || '');\n                                                setCity(addr.city || '');\n                                                setPostalCode(addr.postalCode || '');\n                                                setCountry(addr.country || '');\n                                            }\n                                        }}\n                                        className=\"w-full bg-white/50 border border-clinical-ink/20 rounded-lg p-3 font-sans text-sm text-clinical-ink focus:border-accent-bronze outline-none appearance-none\"\n                                        defaultValue=\"\"\n                                    >\n                                        <option value=\"\" disabled>-- Use a Saved Address --</option>\n                                        {user.addresses.map((addr: ShippingAddress, index: number) => (\n                                            <option key={index} value={index}>\n                                                {addr.address}, {addr.city}\n                                            </option>\n                                        ))}\n                                    </select>\n                                </div>\n                            )}\n\n                            <div className=\"aesop-input-group\">\n                                <input\n                                    type=\"text\"\n                                    value={address}\n                                    onChange={(e) => setAddress(e.target.value)}\n                                    required\n                                    className=\"aesop-input peer placeholder-transparent\"\n                                    placeholder=\"Street Address\"\n                                    id=\"address\"\n                                />\n                                <label htmlFor=\"address\">Street Address</label>\n                            </div>\n\n                            <div className=\"grid grid-cols-2 gap-8\">\n                                <div className=\"aesop-input-group\">\n                                    <input\n                                        type=\"text\"\n                                        value={city}\n                                        onChange={(e) => setCity(e.target.value)}\n                                        required\n                                        className=\"aesop-input peer placeholder-transparent\"\n                                        placeholder=\"City\"\n                                        id=\"city\"\n                                    />\n                                    <label htmlFor=\"city\">City</label>\n                                </div>\n                                <div className=\"aesop-input-group\">\n                                    <input\n                                        type=\"text\"\n                                        value={postalCode}\n                                        onChange={(e) => setPostalCode(e.target.value)}\n                                        required\n                                        className=\"aesop-input peer placeholder-transparent\"\n                                        placeholder=\"Postal Code\"\n                                        id=\"postalCode\"\n                                    />\n                                    <label htmlFor=\"postalCode\">Postal Code</label>\n                                </div>\n                            </div>\n\n                            <div className=\"aesop-input-group\">\n                                <input\n                                    type=\"text\"\n                                    value={country}\n                                    onChange={(e) => setCountry(e.target.value)}\n                                    required\n                                    className=\"aesop-input peer placeholder-transparent\"\n                                    placeholder=\"Country\"\n                                    id=\"country\"\n                                />\n                                <label htmlFor=\"country\">Country</label>\n                            </div>\n                        </form>\n                    </div>\n\n                    {/* Right Column: Order Summary */}\n                    <div className=\"space-y-8\">\n                        <div className=\"border-b border-black pb-4 mb-4\">\n                            <h2 className=\"font-sans text-[10px] font-bold uppercase tracking-[0.2em] text-clinical-ink/60\">\n                                Order Summary\n                            </h2>\n                        </div>\n\n                        <div className=\"max-h-96 overflow-y-auto pr-4 space-y-6\">\n                            {cartItems.map((item: CartItem, index: number) => (\n                                <div key={index} className=\"flex items-center gap-6 group\">\n                                    <div className=\"w-16 h-20 bg-clinical-bone overflow-hidden rounded-lg flex-shrink-0\">\n                                        <img src={item.image} alt={item.name} className=\"w-full h-full object-contain mix-blend-multiply\" />\n                                    </div>\n                                    <div className=\"flex-1\">\n                                        <div className=\"font-serif text-base text-clinical-ink block truncate\">\n                                            {item.name}\n                                        </div>\n                                        <span className=\"font-mono text-[10px] text-clinical-ink/60\">\n                                            Qty: {item.qty} | Size: {item.size || 'N/A'}\n                                        </span>\n                                    </div>\n                                    <div className=\"font-mono text-sm text-clinical-ink\">\n                                        ₹ {item.price * item.qty}\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n\n                        <div className=\"bg-white/40 backdrop-blur-sm border border-clinical-ink/5 p-8 rounded-3xl mt-8\">\n                            <div className=\"space-y-4 font-sans text-[10px] uppercase tracking-widest border-b border-clinical-ink/10 pb-6 mb-6\">\n                                <div className=\"flex justify-between\">\n                                    <span className=\"text-clinical-ink/60\">Subtotal</span>\n                                    <span className=\"font-mono text-clinical-ink\">₹ {itemsPrice}</span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                    <span className=\"text-clinical-ink/60\">Shipping</span>\n                                    <span className=\"font-mono text-clinical-ink\">₹ {shippingPrice}</span>\n                                </div>\n                                <div className=\"flex justify-between\">\n                                    <span className=\"text-clinical-ink/60\">Tax (15%)</span>\n                                    <span className=\"font-mono text-clinical-ink\">₹ {taxPrice}</span>\n                                </div>\n                            </div>\n                            <div className=\"flex justify-between font-serif text-xl text-clinical-ink mb-8\">\n                                <span>Total</span>\n                                <span className=\"font-mono text-lg font-bold\">₹ {totalPrice}</span>\n                            </div>\n\n                            <motion.button\n                                whileHover={{ scale: 1.02 }}\n                                whileTap={{ scale: 0.98 }}\n                                type=\"submit\"\n                                form=\"checkout-form\"\n                                disabled={cartItems.length === 0 || isProcessing}\n                                className=\"w-full py-5 bg-clinical-ink text-white font-sans text-xs uppercase tracking-[0.2em] hover:bg-black transition-all duration-500 disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-4 rounded-full shadow-xl\"\n                            >\n                                {isProcessing ? (\n                                    <>\n                                        <div className=\"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                                        Processing...\n                                    </>\n                                ) : (\n                                    `Pay ₹ ${totalPrice}`\n                                )}\n                            </motion.button>\n                            <p className=\"text-center mt-4 font-sans text-[9px] text-clinical-ink/40 uppercase tracking-widest\">\n                                Secured by Razorpay\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <AlertModal\n                isOpen={isSuccessModalOpen}\n                onClose={() => {\n                    setIsSuccessModalOpen(false);\n                    router.push(`/order/${successOrderId}`);\n                }}\n                title=\"Transaction Approved\"\n                message={`Payment validated successfully. Order #${successOrderId} has been initialized.`}\n                type=\"success\"\n                actionLabel=\"Proceed to Receipt\"\n                onAction={() => router.push(`/order/${successOrderId}`)}\n            />\n        </div>\n    );\n};\n\nexport default ShippingPage;\n","import Link from 'next/link';\n\ninterface CheckoutStepsProps {\n    step1?: boolean;\n    step2?: boolean;\n}\n\nconst CheckoutSteps = ({ step1, step2 }: CheckoutStepsProps) => {\n    const activeStyle = \"font-sans text-xs font-bold uppercase tracking-widest text-clinical-ink\";\n    const inactiveStyle = \"font-sans text-xs uppercase tracking-widest text-clinical-ink/40 cursor-default\";\n\n    return (\n        <nav className=\"flex justify-center mb-16\">\n            <div className=\"flex items-center gap-4\">\n                {step1 ? (\n                    <Link href=\"/login\" className={activeStyle}>Identity</Link>\n                ) : (\n                    <span className={inactiveStyle}>Identity</span>\n                )}\n\n                <span className=\"text-xs text-clinical-ink/60\">/</span>\n\n                {step2 ? (\n                    <span className={activeStyle}>Checkout</span>\n                ) : (\n                    <span className={inactiveStyle}>Checkout</span>\n                )}\n            </div>\n        </nav>\n    );\n};\n\nexport default CheckoutSteps;\n"],"names":[],"mappings":"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"}