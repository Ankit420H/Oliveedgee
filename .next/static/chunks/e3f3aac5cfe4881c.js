(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54605,50846,e=>{"use strict";var t=e.i(9165);let a=async e=>{let{data:a}=await t.default.get(`/api/orders/${e}`);return a},s=async e=>{let{data:a}=await t.default.put(`/api/orders/${e}/deliver`);return a},i=async()=>{let{data:e}=await t.default.get("/api/orders");return e},l=async()=>{let{data:e}=await t.default.get("/api/orders/analytics");return e},n=async e=>{let{data:a}=await t.default.put(`/api/orders/${e}/cancel`);return a},r=async e=>{let{data:a}=await t.default.put(`/api/orders/${e}/return`);return a};e.s(["cancelOrder",0,n,"deliverOrder",0,s,"getOrderAnalytics",0,l,"getOrderDetails",0,a,"listOrders",0,i,"requestReturn",0,r],50846),e.s([],54605)},63116,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(22016),i=e.i(18566);e.i(47135);var l=e.i(5286);e.i(54605);var n=e.i(50846),r=e.i(11152),c=e.i(70319);e.s(["default",0,()=>{let{user:e,loading:d}=(0,a.useContext)(l.AuthContext),o=(0,i.useRouter)(),[x,m]=(0,a.useState)([]),[p,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{d||e&&e.isAdmin||o.push("/login")},[e,d,o]);let h=(0,a.useCallback)(async()=>{try{let e=await (0,n.listOrders)();m(e),u(!1)}catch{c.toast.error("Failed to load order logs."),u(!1)}},[]);return((0,a.useEffect)(()=>{(async()=>{e&&e.isAdmin&&await h()})()},[e,h]),!d&&e&&e.isAdmin)?(0,t.jsx)("div",{className:"min-h-screen bg-clinical-canvas text-clinical-ink pt-20 md:pt-32 pb-40 font-mono",children:(0,t.jsxs)("div",{className:"container mx-auto px-container-sm md:px-container-md lg:px-container-lg max-w-7xl",children:[(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("span",{className:"font-sans text-[10px] uppercase tracking-[0.2em] text-clinical-ink/40 mb-2 block",children:"Admin Protocol"}),(0,t.jsx)("h1",{className:"font-display font-black text-5xl md:text-heading-sub uppercase leading-[0.9]",children:"Global Transactions"})]}),(0,t.jsx)("div",{className:"overflow-x-auto border border-clinical-ink/10 bg-white rounded-3xl shadow-soft",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-clinical-ink/10 text-[10px] uppercase tracking-widest text-clinical-ink/40",children:[(0,t.jsx)("th",{className:"p-6 font-normal",children:"Order ID"}),(0,t.jsx)("th",{className:"p-6 font-normal",children:"User"}),(0,t.jsx)("th",{className:"p-6 font-normal",children:"Date"}),(0,t.jsx)("th",{className:"p-6 font-normal",children:"Total"}),(0,t.jsx)("th",{className:"p-6 font-normal",children:"Paid"}),(0,t.jsx)("th",{className:"p-6 font-normal",children:"Delivered"}),(0,t.jsx)("th",{className:"p-6 font-normal text-right",children:"Details"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-clinical-ink/5 text-[11px] uppercase tracking-wide",children:x.map(e=>(0,t.jsxs)("tr",{className:"group hover:bg-clinical-canvas/50 transition-colors",children:[(0,t.jsxs)("td",{className:"p-6 text-clinical-ink/30 font-mono",children:[e._id.substring(20,24),"..."]}),(0,t.jsx)("td",{className:"p-6 font-bold text-clinical-ink",children:e.user&&e.user.name}),(0,t.jsx)("td",{className:"p-6 text-clinical-ink/70",children:e.createdAt.substring(0,10)}),(0,t.jsxs)("td",{className:"p-6 font-mono text-clinical-ink",children:["â‚¹ ",e.totalPrice]}),(0,t.jsx)("td",{className:"p-6",children:e.isPaid?(0,t.jsx)("span",{className:"text-signal-success",children:e.paidAt?.substring(0,10)}):(0,t.jsx)(r.FaTimes,{className:"text-signal-error"})}),(0,t.jsx)("td",{className:"p-6",children:e.isDelivered?(0,t.jsx)("span",{className:"text-signal-success",children:e.deliveredAt?.substring(0,10)}):(0,t.jsx)(r.FaTimes,{className:"text-clinical-ink/20"})}),(0,t.jsx)("td",{className:"p-6 text-right",children:(0,t.jsx)(s.default,{href:`/admin/order/${e._id}`,className:"px-4 py-2 bg-clinical-ink/5 hover:bg-clinical-ink hover:text-white rounded-full transition-colors text-[10px] font-bold",children:"VIEW"})})]},e._id))})]})}),p&&(0,t.jsx)("div",{className:"mt-8 text-center font-mono text-xs text-clinical-ink/40 animate-pulse",children:"Synchronizing Database..."})]})}):(0,t.jsx)("div",{className:"min-h-screen pt-20 md:pt-32 text-center font-mono text-clinical-ink/40 animate-pulse",children:"Verifying Credentials..."})}])}]);