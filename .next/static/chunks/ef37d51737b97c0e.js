(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43782,e=>{"use strict";var s=e.i(43476),t=e.i(46932),i=e.i(88653);e.s(["default",0,({isOpen:e,onClose:r,onAction:a,title:n,message:l,type:c="info",actionLabel:d="Acknowledge",cancelLabel:o="Cancel"})=>{let x=(()=>{switch(c){case"success":return{border:"border-accent-moss/30",bg:"bg-accent-moss/10",text:"text-accent-moss",btn:"bg-accent-moss text-white hover:bg-clinical-ink"};case"error":return{border:"border-signal-error/30",bg:"bg-signal-error/10",text:"text-signal-error",btn:"bg-signal-error text-white hover:bg-red-900"};case"warning":return{border:"border-accent-bronze/30",bg:"bg-accent-bronze/10",text:"text-accent-bronze",btn:"bg-accent-bronze text-white hover:bg-clinical-ink"};default:return{border:"border-clinical-ink/10",bg:"bg-clinical-ink/5",text:"text-clinical-ink",btn:"bg-clinical-ink text-white hover:bg-black"}}})();return(0,s.jsx)(i.AnimatePresence,{children:e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"fixed inset-0 bg-clinical-ink/40 backdrop-blur-md z-[60] transition-colors"}),(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-[60] pointer-events-none",children:(0,s.jsxs)(t.motion.div,{initial:{scale:.95,opacity:0,y:10},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:10},className:"bg-clinical-canvas border border-clinical-ink/10 shadow-2xl rounded-3xl p-8 md:p-12 w-full max-w-md pointer-events-auto relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-6 opacity-5 pointer-events-none",children:(0,s.jsx)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("circle",{cx:"32",cy:"32",r:"31",stroke:"currentColor",strokeWidth:"1"})})}),(0,s.jsx)("div",{className:`inline-flex items-center gap-2 mb-6 px-3 py-1 rounded-full border ${x.border} ${x.bg}`,children:(0,s.jsx)("span",{className:`font-mono text-[10px] uppercase tracking-widest ${x.text}`,children:c})}),(0,s.jsx)("h3",{className:"font-display font-black text-2xl md:text-3xl text-clinical-ink mb-4 uppercase leading-[0.9]",children:n}),(0,s.jsx)("p",{className:"font-sans text-sm text-clinical-ink/60 mb-10 leading-relaxed",children:l}),(0,s.jsxs)("div",{className:"flex gap-4",children:[a&&(0,s.jsx)("button",{onClick:r,className:"flex-1 py-4 bg-transparent border border-clinical-ink/20 text-clinical-ink hover:bg-clinical-ink/5 font-sans text-[10px] uppercase tracking-[0.2em] font-bold transition-all duration-300 rounded-full",children:o}),(0,s.jsx)("button",{onClick:a||r,className:`flex-1 py-4 ${x.btn} font-sans text-[10px] uppercase tracking-[0.2em] font-bold transition-all duration-300 rounded-full shadow-lg`,children:d})]})]})})]})})}])},54605,50846,e=>{"use strict";var s=e.i(9165);let t=async e=>{let{data:t}=await s.default.get(`/api/orders/${e}`);return t},i=async e=>{let{data:t}=await s.default.put(`/api/orders/${e}/deliver`);return t},r=async()=>{let{data:e}=await s.default.get("/api/orders");return e},a=async()=>{let{data:e}=await s.default.get("/api/orders/analytics");return e},n=async e=>{let{data:t}=await s.default.put(`/api/orders/${e}/cancel`);return t},l=async e=>{let{data:t}=await s.default.put(`/api/orders/${e}/return`);return t};e.s(["cancelOrder",0,n,"deliverOrder",0,i,"getOrderAnalytics",0,a,"getOrderDetails",0,t,"listOrders",0,r,"requestReturn",0,l],50846),e.s([],54605)},96305,e=>{"use strict";var s=e.i(43476),t=e.i(71645),i=e.i(22016),r=e.i(18566);e.i(47135);var a=e.i(5286);e.i(54605);var n=e.i(50846),l=e.i(70319),c=e.i(43782),d=e.i(11152),o=e.i(82041);e.s(["default",0,({params:e})=>{let{id:x}=(0,t.use)(e),{user:m,loading:p}=(0,t.useContext)(a.AuthContext),b=(0,r.useRouter)(),[h,g]=(0,t.useState)(null),[u,j]=(0,t.useState)(!0),[f,v]=(0,t.useState)(!1),[k,N]=(0,t.useState)(!1);(0,t.useEffect)(()=>{p||m&&m.isAdmin||b.push("/login")},[m,p,b]);let y=(0,t.useCallback)(async()=>{try{let e=await (0,n.getOrderDetails)(x);g(e),j(!1)}catch(e){l.toast.error((0,o.getErrorMessage)(e)),j(!1)}},[x]);(0,t.useEffect)(()=>{(async()=>{m&&m.isAdmin&&await y()})()},[x,m,y]);let w=async()=>{try{await (0,n.deliverOrder)(x),v(!1),N(!0),y()}catch(e){l.toast.error((0,o.getErrorMessage)(e)),v(!1)}};return!p&&m&&m.isAdmin?u?(0,s.jsx)("div",{className:"text-center py-32 font-mono text-xs animate-pulse",children:"Loading Order Data..."}):h?(0,s.jsx)("div",{className:"min-h-screen pt-32 pb-40 font-mono text-clinical-ink bg-clinical-canvas",children:(0,s.jsxs)("div",{className:"container mx-auto px-container-sm md:px-container-md lg:px-container-lg max-w-7xl",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-10 border-b border-clinical-ink/10 pb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-[10px] uppercase tracking-[0.2em] text-clinical-ink/40 block mb-2",children:"Order Detail"}),(0,s.jsxs)("h1",{className:"text-3xl font-bold uppercase tracking-widest",children:["Order #",h._id.substring(0,8)]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-widest text-clinical-ink/60",children:"Placed On"}),(0,s.jsx)("p",{className:"font-bold",children:h.createdAt.substring(0,10)})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-10",children:[(0,s.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-clinical-ink/10 shadow-soft",children:[(0,s.jsxs)("h2",{className:"text-sm font-bold uppercase tracking-widest mb-6 flex items-center gap-3",children:[(0,s.jsx)(d.FaBox,{className:"text-accent-bronze"})," Order Items"]}),(0,s.jsx)("div",{className:"space-y-4",children:h.orderItems.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-6 py-4 border-b border-clinical-ink/5 last:border-0",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-clinical-canvas rounded-lg overflow-hidden shrink-0",children:(0,s.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover mix-blend-multiply"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-bold text-sm",children:e.name}),(0,s.jsxs)("p",{className:"text-[10px] text-clinical-ink/50 uppercase",children:["Qty: ",e.qty," | Price: ₹",e.price]})]}),(0,s.jsxs)("div",{className:"font-bold text-sm",children:["₹",e.qty*e.price]})]},t))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-clinical-ink/10 shadow-soft",children:[(0,s.jsxs)("h2",{className:"text-sm font-bold uppercase tracking-widest mb-6 flex items-center gap-3",children:[(0,s.jsx)(d.FaMapMarkerAlt,{className:"text-accent-bronze"})," Shipping"]}),(0,s.jsx)("p",{className:"text-sm font-bold mb-1",children:h.user?.name}),(0,s.jsx)("a",{href:`mailto:${h.user?.email}`,className:"text-xs text-clinical-ink/60 hover:text-accent-bronze block mb-4",children:h.user?.email}),(0,s.jsxs)("p",{className:"text-sm leading-relaxed text-clinical-ink/80",children:[h.shippingAddress.address,",",(0,s.jsx)("br",{}),h.shippingAddress.city,", ",h.shippingAddress.postalCode,(0,s.jsx)("br",{}),h.shippingAddress.country]}),(0,s.jsx)("div",{className:`mt-6 p-4 rounded-xl border flex items-center gap-3 text-xs font-bold uppercase tracking-wider ${h.isDelivered?"bg-signal-success/10 border-signal-success text-signal-success":"bg-signal-error/10 border-signal-error text-signal-error"}`,children:h.isDelivered?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.FaCheck,{})," Delivered on ",h.deliveredAt?.substring(0,10)]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.FaTimes,{})," Not Delivered"]})})]}),(0,s.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-clinical-ink/10 shadow-soft",children:[(0,s.jsxs)("h2",{className:"text-sm font-bold uppercase tracking-widest mb-6 flex items-center gap-3",children:[(0,s.jsx)(d.FaEnvelope,{className:"text-accent-bronze"})," Payment"]}),(0,s.jsx)("p",{className:"text-xs uppercase tracking-widest text-clinical-ink/60 mb-1",children:"Method"}),(0,s.jsx)("p",{className:"text-sm font-bold mb-4",children:h.paymentMethod}),(0,s.jsx)("div",{className:`mt-6 p-4 rounded-xl border flex items-center gap-3 text-xs font-bold uppercase tracking-wider ${h.isPaid?"bg-signal-success/10 border-signal-success text-signal-success":"bg-signal-error/10 border-signal-error text-signal-error"}`,children:h.isPaid?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.FaCheck,{})," Paid on ",h.paidAt?.substring(0,10)]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.FaTimes,{})," Not Paid"]})})]})]})]}),(0,s.jsx)("div",{className:"space-y-8",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-3xl border border-clinical-ink/10 shadow-soft sticky top-32",children:[(0,s.jsx)("h2",{className:"text-sm font-bold uppercase tracking-widest mb-6",children:"Order Summary"}),(0,s.jsxs)("div",{className:"space-y-3 text-xs mb-8 border-b border-clinical-ink/10 pb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-clinical-ink/60",children:"Items"}),(0,s.jsxs)("span",{children:["₹",h.itemsPrice]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-clinical-ink/60",children:"Shipping"}),(0,s.jsxs)("span",{children:["₹",h.shippingPrice]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-clinical-ink/60",children:"Tax"}),(0,s.jsxs)("span",{children:["₹",h.taxPrice]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm font-bold pt-2",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:["₹",h.totalPrice]})]})]}),!h.isDelivered&&(0,s.jsxs)("button",{onClick:()=>{v(!0)},className:"w-full py-4 bg-clinical-ink text-white text-xs font-bold uppercase tracking-[0.2em] hover:bg-black transition-all rounded-xl flex items-center justify-center gap-3 mb-4",children:[(0,s.jsx)(d.FaTruck,{})," Mark Delivered"]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(i.default,{href:"/admin/orders",className:"text-[10px] uppercase tracking-widest text-clinical-ink/40 hover:text-clinical-ink transition-colors",children:"← Back to Orders"})})]})})]}),(0,s.jsx)(c.default,{isOpen:f,onClose:()=>v(!1),title:"Confirm Delivery Status",message:"This will mark the order as delivered and trigger a notification email to the customer.",type:"warning",actionLabel:"Confirm Delivery",onAction:w}),(0,s.jsx)(c.default,{isOpen:k,onClose:()=>N(!1),title:"Order Updated",message:"Order status successfully changed to Delivered.",type:"success",actionLabel:"Close",onAction:()=>N(!1)})]})}):(0,s.jsx)("div",{className:"text-center py-32 font-mono text-xs text-red-500",children:"Order Not Found"}):(0,s.jsx)("div",{className:"min-h-screen pt-32 text-center font-mono text-clinical-ink/40 animate-pulse",children:"Verifying Credentials..."})}])}]);