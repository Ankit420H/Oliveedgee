{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ankitkumaryadav/Desktop/Olive-Edge/src/context/CartContext.jsx"],"sourcesContent":["'use client';\n\nimport { createContext, useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\n\nconst CartContext = createContext();\n\nexport const CartProvider = ({ children }) => {\n    const [cartItems, setCartItems] = useState([]);\n    const [shippingAddress, setShippingAddress] = useState({});\n    const [paymentMethod, setPaymentMethod] = useState('Razorpay');\n    const [isInitialized, setIsInitialized] = useState(false);\n\n    // Initialize from LocalStorage\n    useEffect(() => {\n        const storedCart = localStorage.getItem('cartItems');\n        if (storedCart) {\n            setCartItems(JSON.parse(storedCart));\n        }\n\n        const storedAddress = localStorage.getItem('shippingAddress');\n        if (storedAddress) {\n            setShippingAddress(JSON.parse(storedAddress));\n        }\n\n        const storedPayment = localStorage.getItem('paymentMethod');\n        if (storedPayment) {\n            setPaymentMethod(JSON.parse(storedPayment));\n        }\n        setIsInitialized(true);\n    }, []);\n\n    // Sync updates to LocalStorage\n    useEffect(() => {\n        if (isInitialized) {\n            localStorage.setItem('cartItems', JSON.stringify(cartItems));\n        }\n    }, [cartItems, isInitialized]);\n\n    useEffect(() => {\n        if (isInitialized) {\n            localStorage.setItem('shippingAddress', JSON.stringify(shippingAddress));\n        }\n    }, [shippingAddress, isInitialized]);\n\n    useEffect(() => {\n        if (isInitialized) {\n            localStorage.setItem('paymentMethod', JSON.stringify(paymentMethod));\n        }\n    }, [paymentMethod, isInitialized]);\n\n    const addToCart = (product, qty) => {\n        const existItem = cartItems.find((x) => x.product === product._id);\n        const currentQty = existItem ? existItem.qty : 0;\n        const finalQty = currentQty + qty;\n\n        if (finalQty > product.countInStock) {\n            toast.error(`Stock limit reached. Max available: ${product.countInStock}`);\n            return;\n        }\n\n        const item = {\n            product: product._id,\n            name: product.name,\n            image: product.image,\n            price: product.price,\n            countInStock: product.countInStock,\n            qty: finalQty,\n            size: product.size // Ensure size is preserved if passed in product object\n        };\n\n        let newCartItems;\n        if (existItem) {\n            newCartItems = cartItems.map((x) =>\n                x.product === existItem.product ? item : x\n            );\n        } else {\n            newCartItems = [...cartItems, item];\n        }\n\n        setCartItems(newCartItems);\n    };\n\n    const removeFromCart = (id) => {\n        const newCartItems = cartItems.filter((x) => x.product !== id);\n        setCartItems(newCartItems);\n    };\n\n    const saveShippingAddress = (data) => {\n        setShippingAddress(data);\n    };\n\n    const savePaymentMethod = (data) => {\n        setPaymentMethod(data);\n    };\n\n    const clearCart = () => {\n        setCartItems([]);\n        localStorage.removeItem('cartItems');\n    };\n\n    return (\n        <CartContext.Provider value={{\n            cartItems,\n            addToCart,\n            removeFromCart,\n            clearCart,\n            shippingAddress,\n            saveShippingAddress,\n            paymentMethod,\n            savePaymentMethod\n        }}>\n            {children}\n        </CartContext.Provider>\n    );\n};\n\nexport default CartContext;\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,4BAAc,IAAA,8KAAa;AAE1B,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC7C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC,CAAC;IACxD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEnD,+BAA+B;IAC/B,IAAA,0KAAS;kCAAC;YACN,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,IAAI,YAAY;gBACZ,aAAa,KAAK,KAAK,CAAC;YAC5B;YAEA,MAAM,gBAAgB,aAAa,OAAO,CAAC;YAC3C,IAAI,eAAe;gBACf,mBAAmB,KAAK,KAAK,CAAC;YAClC;YAEA,MAAM,gBAAgB,aAAa,OAAO,CAAC;YAC3C,IAAI,eAAe;gBACf,iBAAiB,KAAK,KAAK,CAAC;YAChC;YACA,iBAAiB;QACrB;iCAAG,EAAE;IAEL,+BAA+B;IAC/B,IAAA,0KAAS;kCAAC;YACN,IAAI,eAAe;gBACf,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;YACrD;QACJ;iCAAG;QAAC;QAAW;KAAc;IAE7B,IAAA,0KAAS;kCAAC;YACN,IAAI,eAAe;gBACf,aAAa,OAAO,CAAC,mBAAmB,KAAK,SAAS,CAAC;YAC3D;QACJ;iCAAG;QAAC;QAAiB;KAAc;IAEnC,IAAA,0KAAS;kCAAC;YACN,IAAI,eAAe;gBACf,aAAa,OAAO,CAAC,iBAAiB,KAAK,SAAS,CAAC;YACzD;QACJ;iCAAG;QAAC;QAAe;KAAc;IAEjC,MAAM,YAAY,CAAC,SAAS;QACxB,MAAM,YAAY,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK,QAAQ,GAAG;QACjE,MAAM,aAAa,YAAY,UAAU,GAAG,GAAG;QAC/C,MAAM,WAAW,aAAa;QAE9B,IAAI,WAAW,QAAQ,YAAY,EAAE;YACjC,+JAAK,CAAC,KAAK,CAAC,CAAC,oCAAoC,EAAE,QAAQ,YAAY,EAAE;YACzE;QACJ;QAEA,MAAM,OAAO;YACT,SAAS,QAAQ,GAAG;YACpB,MAAM,QAAQ,IAAI;YAClB,OAAO,QAAQ,KAAK;YACpB,OAAO,QAAQ,KAAK;YACpB,cAAc,QAAQ,YAAY;YAClC,KAAK;YACL,MAAM,QAAQ,IAAI,CAAC,uDAAuD;QAC9E;QAEA,IAAI;QACJ,IAAI,WAAW;YACX,eAAe,UAAU,GAAG,CAAC,CAAC,IAC1B,EAAE,OAAO,KAAK,UAAU,OAAO,GAAG,OAAO;QAEjD,OAAO;YACH,eAAe;mBAAI;gBAAW;aAAK;QACvC;QAEA,aAAa;IACjB;IAEA,MAAM,iBAAiB,CAAC;QACpB,MAAM,eAAe,UAAU,MAAM,CAAC,CAAC,IAAM,EAAE,OAAO,KAAK;QAC3D,aAAa;IACjB;IAEA,MAAM,sBAAsB,CAAC;QACzB,mBAAmB;IACvB;IAEA,MAAM,oBAAoB,CAAC;QACvB,iBAAiB;IACrB;IAEA,MAAM,YAAY;QACd,aAAa,EAAE;QACf,aAAa,UAAU,CAAC;IAC5B;IAEA,qBACI,6LAAC,YAAY,QAAQ;QAAC,OAAO;YACzB;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACJ;kBACK;;;;;;AAGb;GA5Ga;KAAA;uCA8GE"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///Users/ankitkumaryadav/Desktop/Olive-Edge/src/app/cart/page.tsx"],"sourcesContent":["'use client';\n\nimport { useContext } from 'react';\nimport { motion } from 'framer-motion';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport CartContext from '../../context/CartContext';\n// import { Helmet } from 'react-helmet-async'; // Metadata handled by layout/page\n\nconst CartPage = () => {\n    const { cartItems, removeFromCart } = useContext(CartContext);\n    const router = useRouter();\n\n    const checkoutHandler = () => {\n        router.push('/login?redirect=/shipping');\n    };\n\n    return (\n        <div className=\"bg-clinical-canvas min-h-screen pt-32 pb-40\">\n            {/* Metadata handled by Next.js layout or export metadata */}\n            <div className=\"mx-auto px-container-sm md:px-container-md lg:px-container-lg\">\n\n                {/* Header: The Manifest */}\n                <div className=\"flex flex-col items-center mb-24 border-b border-clinical-ink/10 pb-8\">\n                    <span className=\"font-sans text-[10px] uppercase tracking-[0.3em] text-clinical-ink/40 mb-6\">\n                        Your Cart\n                    </span>\n                    <h1 className=\"font-display font-black text-6xl md:text-heading-main text-clinical-ink mb-8 leading-[0.8] uppercase\">\n                        Shopping <br /> Cart\n                    </h1>\n                </div>\n\n                {cartItems.length === 0 ? (\n                    <div className=\"py-20 text-center\">\n                        <p className=\"font-display text-2xl italic text-clinical-ink/30 mb-8\">\n                            Your cart is empty.\n                        </p>\n                        <Link\n                            href=\"/shop\"\n                            className=\"inline-block px-8 py-3 text-xs font-sans uppercase tracking-widest border border-clinical-ink/20 hover:border-clinical-ink transition-colors duration-500 rounded-full\"\n                        >\n                            Return to Shop\n                        </Link>\n                    </div>\n                ) : (\n                    <div className=\"flex flex-col lg:flex-row gap-24\">\n                        {/* Manifest Items */}\n                        <div className=\"flex-1 space-y-12\">\n                            {cartItems.map((item: any) => (\n                                <div key={item.product} className=\"flex flex-col md:flex-row items-center gap-8 group\">\n\n                                    {/* Image */}\n                                    <Link href={`/product/${item.product}`} className=\"w-32 h-40 bg-clinical-bone flex-shrink-0 overflow-hidden relative rounded-3xl\">\n                                        <img src={item.image} alt={item.name} className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700\" />\n                                    </Link>\n\n                                    {/* Info */}\n                                    <div className=\"flex-1 text-center md:text-left\">\n                                        <Link href={`/product/${item.product}`} className=\"block font-display text-2xl text-clinical-ink mb-2\">\n                                            {item.name}\n                                        </Link>\n                                        <span className=\"font-sans text-[10px] uppercase tracking-widest text-clinical-ink/40\">\n                                            Qt. {item.qty}\n                                        </span>\n                                    </div>\n\n                                    {/* Price & Remove */}\n                                    <div className=\"flex flex-col items-center md:items-end gap-2\">\n                                        <span className=\"font-mono text-sm text-clinical-ink\">\n                                            ₹ {(item.qty * item.price).toLocaleString()}\n                                        </span>\n                                        <button\n                                            onClick={() => removeFromCart(item.product)}\n                                            className=\"text-[10px] uppercase tracking-widest text-red-800/50 hover:text-red-800 transition-colors\"\n                                        >\n                                            Remove\n                                        </button>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n\n                        {/* Summary / Checkout */}\n                        <div className=\"lg:w-96 shrink-0\">\n                            <div className=\"sticky top-32 p-8 border border-clinical-ink/5 bg-white/40 backdrop-blur-sm rounded-3xl\">\n                                <h3 className=\"font-display font-medium text-2xl text-clinical-ink mb-8\">Summary</h3>\n\n                                <div className=\"flex justify-between mb-4\">\n                                    <span className=\"font-sans text-xs uppercase tracking-widest text-clinical-ink/60\">Subtotal</span>\n                                    <span className=\"font-mono text-sm text-clinical-ink\">\n                                        ₹ {cartItems.reduce((acc: number, item: any) => acc + item.qty * item.price, 0).toLocaleString()}\n                                    </span>\n                                </div>\n                                <div className=\"flex justify-between mb-8\">\n                                    <span className=\"font-sans text-xs uppercase tracking-widest text-clinical-ink/60\">Shipping</span>\n                                    <span className=\"font-mono text-xs text-clinical-ink/40\">Calculated Next</span>\n                                </div>\n\n                                <motion.button\n                                    whileHover={{ scale: 1.02 }}\n                                    whileTap={{ scale: 0.98 }}\n                                    onClick={checkoutHandler}\n                                    className=\"w-full py-4 bg-signal-success text-white font-mono text-xs uppercase tracking-[0.2em] hover:bg-clinical-ink transition-colors duration-500 rounded-full\"\n                                >\n                                    Proceed to Checkout\n                                </motion.button>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div >\n    );\n};\n\nexport default CartPage;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAOA,kFAAkF;AAElF,MAAM,WAAW;;IACb,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,GAAG,IAAA,2KAAU,EAAC,4IAAW;IAC5D,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,kBAAkB;QACpB,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,6LAAC;QAAI,WAAU;kBAEX,cAAA,6LAAC;YAAI,WAAU;;8BAGX,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAK,WAAU;sCAA6E;;;;;;sCAG7F,6LAAC;4BAAG,WAAU;;gCAAuG;8CACxG,6LAAC;;;;;gCAAK;;;;;;;;;;;;;gBAItB,UAAU,MAAM,KAAK,kBAClB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAE,WAAU;sCAAyD;;;;;;sCAGtE,6LAAC,0KAAI;4BACD,MAAK;4BACL,WAAU;sCACb;;;;;;;;;;;6EAKL,6LAAC;oBAAI,WAAU;;sCAEX,6LAAC;4BAAI,WAAU;sCACV,UAAU,GAAG,CAAC,CAAC,qBACZ,6LAAC;oCAAuB,WAAU;;sDAG9B,6LAAC,0KAAI;4CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,OAAO,EAAE;4CAAE,WAAU;sDAC9C,cAAA,6LAAC;gDAAI,KAAK,KAAK,KAAK;gDAAE,KAAK,KAAK,IAAI;gDAAE,WAAU;;;;;;;;;;;sDAIpD,6LAAC;4CAAI,WAAU;;8DACX,6LAAC,0KAAI;oDAAC,MAAM,CAAC,SAAS,EAAE,KAAK,OAAO,EAAE;oDAAE,WAAU;8DAC7C,KAAK,IAAI;;;;;;8DAEd,6LAAC;oDAAK,WAAU;;wDAAuE;wDAC9E,KAAK,GAAG;;;;;;;;;;;;;sDAKrB,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAK,WAAU;;wDAAsC;wDAC/C,CAAC,KAAK,GAAG,GAAG,KAAK,KAAK,EAAE,cAAc;;;;;;;8DAE7C,6LAAC;oDACG,SAAS,IAAM,eAAe,KAAK,OAAO;oDAC1C,WAAU;8DACb;;;;;;;;;;;;;mCAzBC,KAAK,OAAO;;;;;;;;;;sCAkC9B,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAG,WAAU;kDAA2D;;;;;;kDAEzE,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAmE;;;;;;0DACnF,6LAAC;gDAAK,WAAU;;oDAAsC;oDAC/C,UAAU,MAAM,CAAC,CAAC,KAAa,OAAc,MAAM,KAAK,GAAG,GAAG,KAAK,KAAK,EAAE,GAAG,cAAc;;;;;;;;;;;;;kDAGtG,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAK,WAAU;0DAAmE;;;;;;0DACnF,6LAAC;gDAAK,WAAU;0DAAyC;;;;;;;;;;;;kDAG7D,6LAAC,uMAAM,CAAC,MAAM;wCACV,YAAY;4CAAE,OAAO;wCAAK;wCAC1B,UAAU;4CAAE,OAAO;wCAAK;wCACxB,SAAS;wCACT,WAAU;kDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjC;GAxGM;;QAEa,kJAAS;;;KAFtB;uCA0GS"}}]
}